pico-8 cartridge // http://www.pico-8.com
version 29
__lua__
types={}
objects={}

-- base type
interactable = {}
interactable.x = 0
interactable.y = 0

function interactable:new (spr)
	local obj = {spr=spr,
		new= function (self,x,y)
			local obj = {x=x,y=y,id=x..","..y}
			setmetatable(obj,self)
			self.__index = self
			add(objects,obj)
			return obj
		end
		}
	setmetatable(obj,self)
	self.__index = self
	types[spr]=obj
	return obj
end
function interactable:a (x)
	print("interactable:a(" .. x .. ")")
end

-- orb is an interactable type
orb = interactable:new(2)
function orb:a (x)
	print("orb:a(" .. x .. ")")
end


function _init()
	-- meme is an object of type orb
	meme=orb:new(5,7)
	
	print("")
	print("types:")
	for k,_ in pairs(types) do
		print(k)
	end
	
	print("")
	print("objects:")
	for o in all(objects) do
		print(o.id .. " : " .. o.spr)
	end
end
__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
